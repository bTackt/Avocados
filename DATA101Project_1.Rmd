---
title: "Avocado Prices Project"
author: "D.O. A.S."
date: "Fall 2018"
output:
  html_document:
    toc: yes
    toc_depth: '2'
  pdf_document:
    keep_tex: yes
    toc: yes
    toc_depth: 2
geometry: right=2.5in
---


```{r cache=FALSE, echo=FALSE}
library(knitr)
opts_chunk$set(fig.align="center", fig.height=5.5, fig.width=6, collapse=TRUE, comment="", prompt=TRUE)
options(width=63)

library(dplyr)
```

dplyr reference: https://dplyr.tidyverse.org/reference/index.html

#Read Data

Some relevant columns in the dataset: (copied from https://www.kaggle.com/neuromusic/avocado-prices/home)

 * Date - The date of the observation
 * AveragePrice - the average price of a single avocado
 * type - conventional or organic
 * year - the year
 * Region - the city or region of the observation
 * Total Volume - Total number of avocados sold
 * 4046 - Total number of avocados with PLU 4046 sold (small Hass)
 * 4225 - Total number of avocados with PLU 4225 sold (large Hass)
 * 4770 - Total number of avocados with PLU 4770 sold (extra large Hass)

```{r}
avocado <- read.csv('avocado.csv', header = TRUE)
avo <- avocado[, c('Date', 'AveragePrice', 'Total.Volume', 'type', 'year', 'region')]
dim(avo)
head(avo)
str(avo)
```

#Select Data
#vol is the enitre column of Total.Volume
```{r}
max_ave <- max(avo$AveragePrice)
max_ave
min_ave <- min(avo$AveragePrice)
min_ave
vol <- avo$Total.Volume
```


##Average Price
```{r}
mean_price <- mean(avo$AveragePrice)
mean_price
```

##Sorted By Region
```{r}
regions <- select(avo, region) %>% unique %>% nrow
regions
unique(avo$region)
```
#order the region by Average Price ( cheapest to most expensive)
```{r}
index <- order(avo$AveragePrice)
avo$region[index]
```
# Filter
#...filter 
```{r}
avo <- mutate(avo, rate = avo$AveragePrice/vol*100000)
avop_f <- filter(avo, AveragePrice >= 1.41)
avor_f <- filter(avo,rate >= 1.5)
by_avo <- group_by(avo, region)
head(avop_f)
head(avor_f)

```

#Summary
```{r}
summarize(avo,Ave_avo = mean(AveragePrice), med_avo = median(AveragePrice), ave_vol = mean(Total.Volume), med_vol = median(Total.Volume), rate_avo = mean(rate), med_rate = median(rate))

summary(avo$AveragePrice)
  
```